<html>
<head>
</head>
<body>
<canvas id="canvas" width="27" height="23">
<script>
  // Test that even if we set the icon after the extension loads, it shows up.
  chrome.tabs.getSelected(null, function(tab) {
    chrome.pageAction.show(tab.id);
    chrome.pageAction.setIcon({tabId: tab.id,
        imageData:document.getElementById("canvas")
            .getContext('2d').getImageData(0, 0, 16, 16)});
    chrome.test.notifyPass();
  });
</script>
</body>
</html>
