<!--
Copyright (c) 2011 The Chromium Authors. All rights reserved.
Use of this source code is governed by a BSD-style license that can be
found in the LICENSE file.
-->

<html>
  <head>
    <script type="text/javascript" src="static_files/base.js"></script>
    <script type="text/javascript" src="static_files/client.js"></script>
    <link rel="stylesheet" type="text/css" href="static_files/main.css" />
    <title>Remote Access Host List</title>
  </head>
  <body onload="init();">
    <div class="header">
    </div>
    <div id="main-content">
      <div id="navbar-container">
        <h1 id="settings-title">Chromoting</h1>
        <ul id="navbar">
        </ul>
      </div>
      <div id="mainview">
        <div id="mainview-content">
          <div class="page">
            <section>
              <h3>Http Xmpp Proxy Config </h3>
              <div>
                <table>
                  <tr>
                    <td align="right">
                      <label for="clientlogin_proxy">Client Login Proxy</label>
                    </td>
                    <td><input type="text" name="clientlogin_proxy" id="clientlogin_proxy"
                      value="https://chromoting-httpxmpp-dev.corp.google.com"
                      size="60" />
                    </td>
                  </tr>
                  <tr>
                    <td align="right">
                      <label for="oauth2_proxy">OAuth2 Proxy</label>
                    </td>
                    <td><input type="text" name="oauth2_proxy" id="oauth2_proxy"
                      value="https://chromoting-httpxmpp-oauth2-dev.corp.google.com"
                      size="60" />
                    </td>
                  </tr>
                </table>
                <div>
                  <input type="radio" name="token_type" id="use_oauth2"
                         value="oauth2" checked>
                  <label for="use_oauth2">Use OAuth2</label>
                  </input>
                  <input type="radio" name="token_type" id="use_clientlogin"
                         value="clientlogin">
                  <label for="use_clientlogin">Use Client Login</label>
                  </input>
                </div>
              </div>
            </section>
            <section>
              <h3>Host List</h3>
                <div class="hostlist">
                  <list id="hostlist-div">
                    <p class='message'>Initializing...</p>
                  </list>
                  <div id="host-options">
                    <button class="float-left" onclick="populateHostList();">
                      Reload Host List
                    </button>
                    <span class="float-right">
                      <input type=checkbox id="show_offline"
                          onClick="updateShowOfflineHosts(this);" />
                      Show offline hosts
                    </span>
                  </div>
                </div>
            </section>
            <section>
              <h3>OAuth2 Token</h3>
              <div>
{% if has_oauth2_tokens %}
                <div>Token Authenticated</div>
                <button id="subitem"
                   onclick="window.location='/auth/clear_oauth2_token'">
                   Clear Token
                </button>
{% else %}
                <div class="error-msg">Token Not Authenticated</div>
                <button id="subitem"
                   onclick="authorizeOAuth2();">
                  Authenticate Token
                </button>
{% endif %}
              </div>
            </section>
            <section>
              <h3>Client Login Token</h3>
              <div>
{% ifnotequal clientlogin_token None %}
                <div>Token Authenticated</div>
                <button id="subitem"
                   onclick="window.location='/auth/clear_clientlogin_token'">
                   Clear Token
                </button>
{% else %}
                <div class="error-msg">Token Not Authenticated</div>
                <button id="subitem"
                   onclick="window.location='/auth/clientlogin_auth'">
                  Authenticate Token
                </button>
{% endifnotequal %}
              </div>
            </section>
          </div>
        </div>
      </div>
    </div>
  </body>
</html>
